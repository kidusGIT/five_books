<nav class="nav-bar flex-row flex-gap center-flex-y pad">
  <div class="flex-row flex-gap center-flex-y" >
    <%= link_to "Five Books", root_path , class: "logo flex-row center-flex" %>
    <% if user_signed_in?  %>
      <div class="flex-row flex-gap">
        <a href="#" class="link"> <i class="bi bi-heart"></i> </a>
        <%= link_to uploads_path, class: 'link' do %>
          <i class="bi bi-book"></i>
        <% end %>
      </div>
    <% end %>
  </div>
  <div class="">
    <form action="" class="border flex-row search-container" method="get" data-helper-target="searchForm" >
      <input type="text" placeholder="Search Books.." data-helper-target="searchField">
      <button data-action="helper#search" > <svg xmlns="http://www.w3.org/2000/svg" height="30" viewBox="0 -960 960 960" width="30"><path d="M790.615-137.54 531.077-397.078q-29.848 26.414-69.61 40.707t-82.313 14.293q-101.873 0-172.436-70.514t-70.563-170.999q0-100.485 70.514-171.062 70.514-70.577 171.219-70.577 100.706 0 171.255 70.533 70.548 70.532 70.548 171.054 0 42.028-14.384 81.835-14.385 39.808-41.616 72.115l260.154 258.539-33.23 33.614ZM378.539-387.461q81.955 0 138.862-57.116 56.907-57.115 56.907-139.077 0-81.961-56.907-139.077-56.907-57.115-138.862-57.115-82.468 0-139.734 57.115-57.266 57.116-57.266 139.077 0 81.962 57.266 139.077 57.266 57.116 139.734 57.116Z"/></svg> </button>
    </form>
  </div>
  <% if user_signed_in?  %>
    <div class="flex-row flex-gap center-flex-y">
      <%# <a href="#" class="link" > <i class="bi bi-cart3"></i> </a> %>
      <%= link_to carts_path, class: 'link' do %>
        <i class="bi bi-cart3"></i>
      <% end %>
      <div class="btn-group">
        <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-person-fill"></i> User
        </button>
        <ul class="dropdown-menu">
          <%= link_to "Sign Out", destroy_user_session_path, class: "dropdown-item", data: { "turbo-method": :delete } %>
          <%= link_to "Edit User", edit_user_registration_path, class: "dropdown-item" %>
          <p class="dropdown-item"> <%= current_user.email %> </p>
        </ul>
      </div>
    </div>
  <% else %>
    <div class="flex-row flex-gap center-flex-y">
      <%= link_to "Sign In", new_user_session_path, class: 'link' %>
    </div>
  <% end %>
</nav>
<%#  %>
<nav class="nav-bar-small flex-col" data-controller="main" data-main-target="navBar">
  <div class="flex-row flex-space-between pad">
    <%= link_to "Five Books", root_path , class: "logo flex-row center-flex" %>
    <button class="header-toggler" data-action="main#toggleNavbar">
      <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/></svg>
    </button>
  </div>
  <% if user_signed_in?  %>
    <div class="flex-col">
      <a href="#" class="link"> <i class="bi bi-heart"></i> <span>Favorite</span> </a>
      <%# <a href="#" class="link"> Uploads </a> %>
      <%= link_to uploads_path, class: 'link' do %>
        <i class="bi bi-book"></i> <span>My Books</span>
      <% end %>
    </div>
  <% else %>
    <div class="flex-row center-flex-y">
      <%= link_to "Sign In", new_user_session_path, class: 'link' %>
    </div>
  <% end %>
  <% if user_signed_in?  %>
    <div class="flex-col">
      <%= link_to carts_path, class: 'link' do %>
        <i class="bi bi-cart3"></i> <span> Carts </span>
      <% end %>
      <%# <a href="#" class="link" > <i class="bi bi-cart3"></i> <span> Carts </span> </a> %>
      <div class="pad">
        <div class="btn-group btn-width">
          <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-person-fill"></i> User
          </button>
          <ul class="dropdown-menu">
            <%= link_to "Sign Out", destroy_user_session_path, class: "dropdown-item", data: { "turbo-method": :delete } %>
            <%= link_to "Edit User", edit_user_registration_path, class: "dropdown-item" %>
            <p class="dropdown-item"> <%= current_user.email %> </p>
          </ul>
        </div>
      </div>
    </div>
  <% end %>
  <div class="pad">
    <form action="" class="border flex-row search-container" method="get">
      <input type="text" placeholder="Search Books..">
      <button> <svg xmlns="http://www.w3.org/2000/svg" height="30" viewBox="0 -960 960 960" width="30"><path d="M790.615-137.54 531.077-397.078q-29.848 26.414-69.61 40.707t-82.313 14.293q-101.873 0-172.436-70.514t-70.563-170.999q0-100.485 70.514-171.062 70.514-70.577 171.219-70.577 100.706 0 171.255 70.533 70.548 70.532 70.548 171.054 0 42.028-14.384 81.835-14.385 39.808-41.616 72.115l260.154 258.539-33.23 33.614ZM378.539-387.461q81.955 0 138.862-57.116 56.907-57.115 56.907-139.077 0-81.961-56.907-139.077-56.907-57.115-138.862-57.115-82.468 0-139.734 57.115-57.266 57.116-57.266 139.077 0 81.962 57.266 139.077 57.266 57.116 139.734 57.116Z"/></svg> </button>
    </form>
  </div>
</nav>
